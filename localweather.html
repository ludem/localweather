<DOCTYPE html>
<html>
    <head>
        </head>
    <body>
        <img src="https://openweathermap.org/img/w/03d.png">
    </body>
<script>
  const ipApi= "http://ip-api.com/json";
  const weatherApi = "http://api.openweathermap.org/data/2.5/weather?q=";

  fetch(ipApi)
  .then(blob =>blob.json())
  .then(json => composeWeatherEndpoint(json))
  .then(api => fetchWeather(api));

  function fetchWeather(api) {
    fetch(api)
    .then(blob => blob.json())
    .then(json => console.log(json));
  }

  const composeWeatherEndpoint = json =>
    `http://api.openweathermap.org/data/2.5/weather?lat=${json.lat}&lon=${json.lon}&APPID=8ff4f5edab5466efff65dc10fc58dec9`;
</script>