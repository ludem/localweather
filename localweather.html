<!DOCTYPE html>
<html>
    <head>
        <style>
          html, body {
            margin: 0;
            padding: 0;
          }
          body {
            display: flex;
          }
          .container {
            flex: 1;
            text-align: center;
          }

          .icon {
            display: none;
            width: 10rem;
            height: 10rem;
          }

          .visible {
            display: inline-block;
          }
          i .material-icons {
            font-size: 10rem;
            color:red;
          }
        </style>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>
    <body>
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
      <div class="container">
        <i class="fa fa-4x"></i>
      </div>
    </body>
<script>
  const ipApi= "http://ip-api.com/json";
  const weatherApi = "http://api.openweathermap.org/data/2.5/weather?q=";

  fetch(ipApi)
  .then(blob =>blob.json())
  .then(json => composeWeatherEndpoint(json))
  .then(api => fetchWeather(api));

  function fetchWeather(api) {
    fetch(api)
    .then(blob => blob.json())
    .then(json => json.weather[0])
    .then(weather => changeIcon(weather));
  }

  function changeIcon (weather) {
    const icon = document.querySelector('i');
    icon.classList.add('fa-sun-o');
  }

  const composeWeatherEndpoint = json =>
    `http://api.openweathermap.org/data/2.5/weather?lat=${json.lat}&lon=${json.lon}&APPID=8ff4f5edab5466efff65dc10fc58dec9`;
</script>